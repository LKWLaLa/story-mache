<trees-header></trees-header>

<main-nav></main-nav>


<section>
    <div class="row">            

            <div class="column_3 padding-top">
                <select ng-model="sortBy" id="sortBy">
                    <option value="">-- Order stories by --</option>
                    <option value="updated_at">Most recently updated</option>
                    <option value="total_contributions">Most contributions</option>
                </select>
            </div><!--dropdown-->
    
            <span class="column_5 padding-top">
                 Filter by contributions:&nbsp;
                 <strong>Min</strong> 
                 <input id="total" 
                 type="number" 
                 ng-model="minContributions" 
                 min="0"
                 class="inline"/>

                 <strong>Max</strong> 
                 <input id="total" 
                 type="number" 
                 ng-model="maxContributions" 
                 min="0"
                 class="inline"/>
            </span><!--filter-->


            <div class="inline on-right padding-top">
                <span class="icon search"></span> 

                <input ng-model="stories.search" class="button secondary small text bold" placeholder="Search"></input>
                <br><br>
            </div><!--search-->    

    </div><!--row 1-->

    <div class="row padding-top">

        <ul ng-repeat="story in stories.data | filter: stories.search | selectedOrder:sortBy:true | greaterThan: minContributions | lessThan: maxContributions">   
            <li class="column_3">
                <a ui-sref="story({ id: story.id })">
                  <div class="text center padding-top padding-bottom" id="story-item">{{story.title}}</div><br>
                </a>
            </li>
        <ul> 

    </div><!--row 2-->
</section>